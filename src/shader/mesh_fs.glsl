// ------------------------------------------------------------------
// OUTPUT VARIABLES  ------------------------------------------------
// ------------------------------------------------------------------

out vec3 FS_OUT_Color;

// ------------------------------------------------------------------
// INPUT VARIABLES  -------------------------------------------------
// ------------------------------------------------------------------

in vec3 FS_IN_WorldPos;
in vec3 FS_IN_Normal;
in vec2 FS_IN_UV;
in vec4 FS_IN_NDCFragPos;

// ------------------------------------------------------------------
// UNIFORMS ---------------------------------------------------------
// ------------------------------------------------------------------

layout(std140, binding = 0) uniform GlobalUniforms
{
    mat4 view_proj;
    mat4 inv_view_proj;
    vec4 cam_pos;
};

uniform sampler2D s_Diffuse;
uniform vec3      u_LightDirection;

// ------------------------------------------------------------------
// MAIN -------------------------------------------------------------
// ------------------------------------------------------------------

void main()
{
    vec3 albedo = texture(s_Diffuse, FS_IN_UV).rgb;
    vec3 N      = normalize(FS_IN_Normal);
    vec3 L      = -u_LightDirection; // FragPos -> LightPos vector

    FS_OUT_Color = albedo * clamp(dot(N, L), 0.0, 1.0);
}

// ------------------------------------------------------------------